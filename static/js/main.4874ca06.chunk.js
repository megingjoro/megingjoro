(this.webpackJsonpthorhammer=this.webpackJsonpthorhammer||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),r=n(7),c=n.n(r),o=(n(14),n(3)),i=n(1),l=n(6),u=n.n(l),d=n(8),p={},j=[];function h(e,t){var n=Object(s.useState)(p[e]||t),a=Object(i.a)(n,2),r=a[0],c=a[1];Object(s.useEffect)((function(){var n=function(){(r!==p[e]||t)&&c(p[e]||t)};return j.push(n),function(){return j.splice(j.indexOf(n),1)}}),[]);return[r,function(t){p[e]=t,j.forEach((function(e){return e()}))}]}function b(e,t){return f("midgard",e,"/v2"+t)}function f(e,t,n){return fetch("https://".concat("testnet"===t?"testnet.":"").concat(e,".thorchain.info").concat(n)).then(function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=8;break}return e.t0=Error,e.t1="Non 2xx response code: "+t.status+": ",e.next=5,t.text();case 5:throw e.t2=e.sent,e.t3=e.t1+e.t2,new e.t0(e.t3);case 8:return e.abrupt("return",t.json());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function x(e,t){return Object.assign(Object.assign({},e),t)}function m(e,t,n){for(var s=e.toString(),a=s.length;a<t;a++)s=n+s;return s}function O(e){return e.slice(0,8)+"\u2026"+e.slice(-4)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(e=parseFloat(e)).toFixed(0).replace(/(\d)(?=(\d{3})+$)/g,"$1 "),s=t>0?"."+e.toFixed(t).split(".")[1]:"";return n+s}function w(e){var t=new Date(e);return[t.getFullYear(),m(t.getMonth()-1,2,"0"),m(t.getDate(),2,"0")].join("-")}function g(e){var t=new Date(e);return[m(t.getHours(),2,"0"),m(t.getMinutes(),2,"0"),m(t.getSeconds(),2,"0")].join(":")}window.globalState=p;var k=JSON.stringify([{name:"default",root:{type:"node",size:100,data:{type:"empty"}}}]),y=n(0);var N=function(e){var t="icon h-6 w-6";switch(e.name){case"plus":return Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})});case"trash":return Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})});case"edit":return Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})});case"save":return Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2h2m3-4H9a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-1m-1 4l-3 3m0 0l-3-3m3 3V3"})});case"times":return Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})});case"arrows-alt-v":return Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})});case"arrows-alt-h":return Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})});case"chevron-up":return Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})});case"chevron-down":return Object(y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(y.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})});default:throw new Error("Unknow icon name: "+e.name)}};function C(e){var t=e.title,n=e.path,s=e.updateWorkspace,a=e.children;function r(){s((function(e){return Object.assign(e,{data:{type:"empty"}})}),n)}function c(e){s((function(t){return"vertically"===e?{type:"vsplit",size:t.size,top:Object.assign(t,{size:50}),bottom:{type:"node",size:50,data:{type:"empty"}}}:{type:"hsplit",size:t.size,left:Object.assign(t,{size:50}),right:{type:"node",size:50,data:{type:"empty"}}}}),n)}return Object(y.jsxs)("div",{className:"box",children:[Object(y.jsxs)("div",{className:"box-header",children:[Object(y.jsx)("span",{className:"box-header-title",title:"Change panel type",onClick:r,children:t}),Object(y.jsx)("div",{className:"box-header-icon",title:"Close",onClick:function(){0!==n.length?s((function(){return null}),n):r()},children:Object(y.jsx)(N,{name:"times"})}),Object(y.jsx)("div",{className:"box-header-icon",title:"Split Horizontally",onClick:c.bind(null,"horizontally"),children:Object(y.jsx)(N,{name:"arrows-alt-h"})}),Object(y.jsx)("div",{className:"box-header-icon",title:"Split Vertically",onClick:c.bind(null,"vertically"),children:Object(y.jsx)(N,{name:"arrows-alt-v"})})]}),Object(y.jsx)("div",{className:"box-contents",children:a})]})}function W(e){var t=e.path,n=e.updateWorkspace;function s(e,s){s.preventDefault();n((function(t){return x(t,{data:{type:e}})}),t)}return Object(y.jsx)(C,{title:"Empty",path:t,updateWorkspace:n,children:Object(y.jsxs)("div",{children:[Object(y.jsx)("br",{}),Object(y.jsx)("p",{className:"text-center",children:"select a panel type:"}),Object(y.jsxs)("div",{className:"node-empty",children:[Object(y.jsxs)("button",{className:"button",onClick:s.bind(null,"stats"),children:[Object(y.jsx)("strong",{children:"stats."}),Object(y.jsx)("span",{children:"global thorchain stats."})]}),Object(y.jsxs)("button",{className:"button",onClick:s.bind(null,"pools"),children:[Object(y.jsx)("strong",{children:"pools."}),Object(y.jsx)("span",{children:"list of thorchain pools."})]}),Object(y.jsxs)("button",{className:"button",onClick:s.bind(null,"wallet"),children:[Object(y.jsx)("strong",{children:"wallet."}),Object(y.jsx)("span",{children:"your rune, synth and lp balances."})]}),Object(y.jsxs)("button",{className:"button",onClick:s.bind(null,"chart"),children:[Object(y.jsx)("strong",{children:"chart."}),Object(y.jsx)("span",{children:"price chart for a pool."})]}),Object(y.jsxs)("button",{className:"button",onClick:s.bind(null,"history"),children:[Object(y.jsx)("strong",{children:"history."}),Object(y.jsx)("span",{children:"action history for current address."})]}),Object(y.jsxs)("button",{className:"button",onClick:s.bind(null,"manualTransaction"),children:[Object(y.jsx)("strong",{children:"manual transaction."}),Object(y.jsx)("span",{children:"send in a manual thorchain transaction."})]})]})]})})}function S(e){var t=e.path,n=e.updateWorkspace,s=h("stats"),a=Object(i.a)(s,1)[0];return Object(y.jsx)(C,{title:"Stats",path:t,updateWorkspace:n,children:a?Object(y.jsxs)("div",{className:"node-empty",children:[Object(y.jsxs)("button",{className:"button",children:[Object(y.jsxs)("strong",{className:"text-primary",children:["$",v(2*parseInt(a.runeDepth)/Math.pow(10,8)*parseFloat(a.runePriceUSD))]}),Object(y.jsx)("span",{children:"total liquidity"})]}),Object(y.jsxs)("button",{className:"button",children:[Object(y.jsxs)("strong",{children:["$",v(parseInt(a.swapVolume)/Math.pow(10,8)*parseFloat(a.runePriceUSD))]}),Object(y.jsx)("span",{children:"total swap volume"})]}),Object(y.jsxs)("button",{className:"button",children:[Object(y.jsx)("strong",{children:v(a.swapCount24h)}),Object(y.jsx)("span",{children:"24h swap count"})]}),Object(y.jsxs)("button",{className:"button",children:[Object(y.jsx)("strong",{children:v(a.dailyActiveUsers)}),Object(y.jsx)("span",{children:"24h active users"})]}),Object(y.jsxs)("button",{className:"button",children:[Object(y.jsx)("strong",{children:v(a.swapCount30d)}),Object(y.jsx)("span",{children:"30d swap count"})]}),Object(y.jsxs)("button",{className:"button",children:[Object(y.jsx)("strong",{children:v(a.monthlyActiveUsers)}),Object(y.jsx)("span",{children:"30d active users"})]}),Object(y.jsxs)("button",{className:"button",children:[Object(y.jsx)("strong",{children:v(a.swapCount)}),Object(y.jsx)("span",{children:"total swap count"})]}),Object(y.jsxs)("button",{className:"button",children:[Object(y.jsx)("strong",{children:v(a.uniqueSwapperCount)}),Object(y.jsx)("span",{children:"unique users"})]}),Object(y.jsxs)("button",{className:"button",children:[Object(y.jsxs)("strong",{children:["$",v(a.runePriceUSD,2)]}),Object(y.jsx)("span",{children:"rune price"})]}),Object(y.jsxs)("button",{className:"button",children:[Object(y.jsxs)("strong",{children:["$",v(parseFloat(a.impermanentLossProtectionPaid)/Math.pow(10,8)*parseFloat(a.runePriceUSD))]}),Object(y.jsx)("span",{children:"il paid"})]})]}):"loading..."})}var M=n(4);function I(e){var t=e.headers,n=e.rows,a=e.defaultSort,r=e.filters,c=e.onFilterChange,o=Object(s.useState)(r||{}),l=Object(i.a)(o,2),u=l[0],d=l[1],p=Object(s.useState)(a||"+"+t[0].id),j=Object(i.a)(p,2),h=j[0],b=j[1];function f(e,t){var n=null;"all"!==t.target.value&&(n=t.target.value);var s=x(u,Object(M.a)({},e,n));d(s),c&&c(s)}function m(e){h&&h.slice(1)===e?b(("+"===h[0]?"-":"+")+h.slice(1)):b("+"+e)}var O,v=n.filter((function(e){for(var t in u)if(u[t]&&e[t]!==u[t])return!1;return!0})),w=h.slice(1);O=function(e){return w+"Value"in e?e[w+"Value"]:e[w]},v=v.sort((function(e,t){var n=O(e),s=O(t);return"number"===typeof n?n-s:n>s})),"-"===h[0]&&(v=v.reverse());return Object(y.jsxs)("table",{className:"trading-table",children:[Object(y.jsxs)("thead",{children:[Object(y.jsx)("tr",{children:t.map((function(e){return Object(y.jsx)("th",{className:e.class,style:e.style||{},children:e.filter?Object(y.jsxs)("select",{onChange:f.bind(null,e.id),value:u[e.id]||"all",children:[Object(y.jsx)("option",{value:"all",children:"all"}),(t=e.id,n.map((function(e){return e[t]})).filter((function(e,t,n){return n.indexOf(e)===t})).sort()).map((function(e){return Object(y.jsx)("option",{value:e,children:e},e)}))]}):null},e.id);var t}))}),Object(y.jsx)("tr",{children:t.map((function(e){return Object(y.jsxs)("th",{className:e.class,style:e.style||{},onClick:m.bind(null,e.id),children:[h.slice(1)===e.id?h[0]:"",e.name||e.id]},e.id)}))})]}),Object(y.jsx)("tbody",{children:v.map((function(e,n){return Object(y.jsx)("tr",{children:t.map((function(t){return Object(y.jsx)("td",{className:t.class+" "+e[t.id+"Class"]||"",style:t.style||{},title:e[t.id+"Title"]||"",children:e[t.id]},t.id)}))},n)}))})]})}function L(e){var t=e.data,n=e.path,s=e.updateWorkspace,a=h("pools",[]),r=Object(i.a)(a,2),c=r[0],o=(r[1],c.map((function(e){var t=parseFloat(e.assetPriceUSD),n=parseInt(e.assetDepth)/Math.pow(10,8)*parseFloat(e.assetPriceUSD)*2,s=parseFloat(e.volume24h)/Math.pow(10,8)*parseFloat(e.assetPriceUSD)/parseFloat(e.assetPrice)||0;return{asset:e.asset,status:e.status,price:v(t,2),priceValue:t,apy:v(100*parseFloat(e.poolAPY),2),apyValue:parseFloat(e.poolAPY),depth:v(n),depthValue:n,volume:v(s),volumeValue:s}})));return Object(y.jsx)(C,{title:"Pools",path:n,updateWorkspace:s,children:Object(y.jsx)(I,{headers:[{id:"asset",filter:!0},{id:"status",filter:!0},{id:"price",class:"text-right"},{id:"apy",class:"text-right"},{id:"depth",class:"text-right"},{id:"volume",name:"volume (24h)",class:"text-right"}],rows:o,filters:t.filters,onFilterChange:function(e){s((function(t){return x(t,{data:x(t.data,{filters:e})})}),n)}})})}function D(e){var t=e.data,n=e.path,a=e.updateWorkspace,r=h("network"),c=Object(i.a)(r,1)[0],o=h("address"),l=Object(i.a)(o,1)[0],u=h("stats"),d=Object(i.a)(u,1)[0],p=h("pools"),j=Object(i.a)(p,1)[0],m=Object(s.useState)([]),O=Object(i.a)(m,2),g=O[0],k=O[1],N=Object(s.useState)([]),W=Object(i.a)(N,2),S=W[0],M=W[1];Object(s.useEffect)((function(){l&&(b(c,"/member/"+l).then((function(e){return k(e.pools)}),(function(){})),function(e,t){return f("thornode",e,t)}(c,"/cosmos/bank/v1beta1/balances/"+l).then((function(e){return M(e.balances)}),(function(){})))}),[c,l]);var L=[];return S.forEach((function(e){if(d){var t="rune"===e.denom?parseFloat(d.runePriceUSD):0,n=parseInt(e.amount)/Math.pow(10,8);L.push({asset:e.denom,value:v(n*t),valueValue:n*t,assetAmount:v(n,2),assetAmountValue:n,assetRemoved:"",runeAdded:"",runeRemoved:"",start:""})}})),g.forEach((function(e){var t=j.find((function(t){return t.asset===e.pool}));if(t){var n=(parseInt(e.runeAdded)-parseInt(e.runeWithdrawn))/Math.pow(10,8),s=(parseInt(e.assetAdded)-parseInt(e.assetWithdrawn))/Math.pow(10,8),a=n*(parseFloat(t.assetPriceUSD)/parseFloat(t.assetPrice))+s*parseFloat(t.assetPrice);L.push({asset:e.pool+" Pool",value:v(a),valueValue:a,assetAmount:v(s,2),assetAmountValue:s,assetRemoved:v(parseInt(e.assetWithdrawn)/Math.pow(10,8),2),assetRemovedValue:parseInt(e.assetWithdrawn),runeAdded:v(parseInt(e.runeAdded)/Math.pow(10,8),1),runeAddedValue:parseInt(e.runeAdded),runeRemoved:v(parseInt(e.assetWithdrawn)/Math.pow(10,8),1),runeRemovedValue:parseInt(e.assetWithdrawn),start:w(1e3*parseInt(e.dateFirstAdded))})}})),Object(y.jsx)(C,{title:"Wallet",path:n,updateWorkspace:a,children:Object(y.jsx)(I,{headers:[{id:"asset",filter:!0},{id:"value",class:"text-right"},{id:"assetAmount",name:"asset",class:"text-right"},{id:"assetRemoved",name:"-asset",class:"text-right"},{id:"runeAdded",name:"rune",class:"text-right"},{id:"runeRemoved",name:"-rune",class:"text-right"},{id:"start",name:"first added",class:"text-right"}],rows:L,filters:t.filters,onFilterChange:function(e){a((function(t){return x(t,{data:x(t.data,{filters:e})})}),n)}})})}var E=n(9);function B(e){var t=e.data,n=e.path,a=e.updateWorkspace,r=Object(s.useRef)(),c=h("network","mainnet"),o=Object(i.a)(c,1)[0],l=h("pools",[]),u=Object(i.a)(l,1)[0],d=Object(s.useState)(t.asset||"BTC.BTC"),p=Object(i.a)(d,2),j=p[0],f=p[1],m=Object(s.useState)(t.range||"1d"),O=Object(i.a)(m,2),w=O[0],g=O[1],k=Object(s.useState)(),N=Object(i.a)(k,2),W=N[0],S=N[1];function M(e,t){var n={"1d":"interval=5min&count=288","1w":"interval=hour&count=168","3m":"interval=day&count=90","1y":"interval=day&count=365"};"THOR.RUNE"===e?b(o,"/history/depths/"+("mainnet"===o?"BNB.BUSD-BD1":"BNB.BUSD-74E")+"?"+n[t]).then((function(e){return S(e.intervals.map((function(e){return x(e,{assetPriceUSD:1/parseFloat(e.assetPrice)})})))}),(function(){})):b(o,"/history/depths/"+e+"?"+n[t]).then((function(e){return S(e.intervals)}),(function(){}))}return Object(s.useEffect)((function(){M(j,w);var e=setInterval((function(){return M(j,w)}),15e3);return function(){return clearInterval(e)}}),[j,w]),Object(s.useEffect)((function(){var e=r.current;if(e&&W){for(;e.lastChild;)e.removeChild(e.lastChild);var t=e.getBoundingClientRect(),n=Object(E.a)(e,{width:t.width,height:t.height,layout:{backgroundColor:"#111827",textColor:"#ffffff",fontSize:12,fontFamily:"IBM Plex Mono"},vertLines:{color:"rgba(40,40,40,0.2)",style:1,visible:!0},horzLines:{color:"rgba(40,40,40,0.2)",style:1,visible:!0},timeScale:{fixLeftEdge:!0,timeVisible:!0}});n.addAreaSeries({bottomColor:"rgba(35, 220, 200, 0.5)",lineColor:"rgba(35, 220, 200, 1)"}).setData(W.map((function(e){return{time:parseInt(e.startTime),value:parseFloat(e.assetPriceUSD)}}))),n.timeScale().setVisibleLogicalRange({from:0,to:W.length})}}),[r.current,W]),Object(y.jsx)(C,{title:"Chart",path:n,updateWorkspace:a,children:Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(y.jsxs)("div",{style:{display:"flex",padding:"4px"},children:[Object(y.jsxs)("select",{value:j,onChange:function(e){var t=e.target.value;f(t),a((function(e){return x(e,{data:x(e.data,{asset:t})})}),n)},style:{padding:"4px 8px",width:"100px",marginRight:"8px"},children:[Object(y.jsx)("option",{value:"THOR.RUNE",children:"THOR.RUNE"}),u.sort((function(e,t){return parseInt(t.runeDepth)-parseInt(e.runeDepth)})).map((function(e){return Object(y.jsx)("option",{value:e.asset,children:e.asset.slice(0,12)},e.asset)}))]}),Object(y.jsxs)("select",{value:w,onChange:function(e){var t=e.target.value;g(t),a((function(e){return x(e,{data:x(e.data,{range:t})})}),n)},style:{padding:"4px 8px",width:"100px"},children:[Object(y.jsx)("option",{value:"1d",children:"past day"}),Object(y.jsx)("option",{value:"1w",children:"past week"}),Object(y.jsx)("option",{value:"3m",children:"past 3 months"}),Object(y.jsx)("option",{value:"1y",children:"past year"})]}),Object(y.jsx)("div",{style:{flex:"1"}}),Object(y.jsx)("div",{children:W?v(W[W.length-1].assetPriceUSD,2):""})]}),Object(y.jsx)("div",{style:{flex:"1"},ref:r})]})})}function F(e){var t=e.data,n=e.path,a=e.updateWorkspace,r=h("network"),c=Object(i.a)(r,1)[0],o=h("address"),l=Object(i.a)(o,1)[0],u=h("pools"),d=(Object(i.a)(u,1)[0],Object(s.useState)([])),p=Object(i.a)(d,2),j=p[0],f=p[1];Object(s.useEffect)((function(){l&&b(c,"/actions?limit=50&offset=0&address="+l).then((function(e){return f(e.actions)}),(function(){}))}),[c,l]);var m=[];return j.forEach((function(e){var t="",n="",s=0;"switch"===e.type&&(t=e.in[0].coins[0].asset,n=e.out[0].coins[0].asset,s=parseInt(e.out[0].coins[0].amount)/Math.pow(10,8)),"addLiquidity"===e.type&&(t=e.pools[0],n=e.in[0].coins[0].asset,s=parseInt(e.in[0].coins[0].amount)/Math.pow(10,8)),"withdraw"===e.type&&(t=e.pools[0],n=e.out[0].coins[0].asset,s=parseInt(e.out[0].coins[0].amount)/Math.pow(10,8)),"swap"===e.type&&(t=e.in[0].coins[0].asset,n=e.out[0].coins[0].asset,s=parseInt(e.out[0].coins[0].amount)/Math.pow(10,8)),m.push({time:w(parseInt(e.date)/1e6).slice(2)+" "+g(parseInt(e.date)/1e6),timeValue:parseInt(e.date),type:e.type,status:e.status,asset:t,asset2:n,amount:v(s,2),amountValue:s})})),Object(y.jsx)(C,{title:"History",path:n,updateWorkspace:a,children:Object(y.jsx)(I,{defaultSort:"-time",headers:[{id:"time",class:"w-datetime"},{id:"type",filter:!0},{id:"status",filter:!0},{id:"asset",filter:!0},{id:"asset2",filter:!0},{id:"amount",class:"text-right"}],rows:m,filters:t.filters,onFilterChange:function(e){a((function(t){return x(t,{data:x(t.data,{filters:e})})}),n)}})})}function z(e){var t=e.path,n=e.updateWorkspace;return Object(y.jsx)(C,{title:"Manual Transaction",path:t,updateWorkspace:n,children:"WIP"})}function P(e){var t=e.type,n=e.size,a=e.data,r=e.path,c=e.updateWorkspace,l=e.top,u=e.bottom,d=e.left,p=e.right,j=Object(s.useRef)(),h=Object(s.useState)(!1),b=Object(i.a)(h,2),f=b[0],m=b[1],O=function(e){var n=j.current,s=n.querySelectorAll(".workspace-node"),a=n.getBoundingClientRect(),o=(("hsplit"===t?e.clientX:e.clientY)-("hsplit"===t?a.left:a.top))/("hsplit"===t?a.width:a.height)*100;o=Math.min(85,Math.max(15,o)),o=5*Math.round(o/5),s[0].style.flexBasis=o+"%",s[1].style.flexBasis=100-o+"%","hsplit"===t?(c((function(e){return x(e,{size:o})}),r.concat(["left"])),c((function(e){return x(e,{size:100-o})}),r.concat(["right"]))):(c((function(e){return x(e,{size:o})}),r.concat(["top"])),c((function(e){return x(e,{size:100-o})}),r.concat(["bottom"])))};function v(){m(!0)}function w(){m(!1),window.removeEventListener("mousemove",O)}Object(s.useEffect)((function(){if(f)return window.addEventListener("mouseup",w),window.addEventListener("mousemove",O),function(){window.removeEventListener("mouseup",w),window.removeEventListener("mousemove",O)}}),[f]);switch(t){case"vsplit":return Object(y.jsxs)("div",{ref:j,className:"workspace-node workspace-vsplit "+(f?"is-dragging":""),style:{flexBasis:n+"%"},children:[Object(y.jsx)(P,Object(o.a)(Object(o.a)({},l),{},{path:r.concat(["top"]),updateWorkspace:c})),Object(y.jsx)("div",{className:"workspace-resize-handle "+(f?"is-dragging":""),onMouseDown:v}),Object(y.jsx)(P,Object(o.a)(Object(o.a)({},u),{},{path:r.concat(["bottom"]),updateWorkspace:c}))]});case"hsplit":return Object(y.jsxs)("div",{ref:j,className:"workspace-node workspace-hsplit "+(f?"is-dragging":""),style:{flexBasis:n+"%"},children:[Object(y.jsx)(P,Object(o.a)(Object(o.a)({},d),{},{path:r.concat(["left"]),updateWorkspace:c})),Object(y.jsx)("div",{className:"workspace-resize-handle "+(f?"is-dragging":""),onMouseDown:v}),Object(y.jsx)(P,Object(o.a)(Object(o.a)({},p),{},{path:r.concat(["right"]),updateWorkspace:c}))]});case"node":return Object(y.jsx)("div",{ref:j,className:"workspace-node",style:{flexBasis:n+"%"},children:function(){switch(a.type){case"empty":return Object(y.jsx)(W,{data:a,path:r,updateWorkspace:c});case"stats":return Object(y.jsx)(S,{data:a,path:r,updateWorkspace:c});case"pools":return Object(y.jsx)(L,{data:a,path:r,updateWorkspace:c});case"wallet":return Object(y.jsx)(D,{data:a,path:r,updateWorkspace:c});case"chart":return Object(y.jsx)(B,{data:a,path:r,updateWorkspace:c});case"history":return Object(y.jsx)(F,{data:a,path:r,updateWorkspace:c});case"manualTransaction":return Object(y.jsx)(z,{data:a,path:r,updateWorkspace:c});default:throw new Error("Unknown terminal node type: "+a.type)}}()});default:throw new Error("Unknown node type: "+t)}}var V={left:"right",right:"left",top:"bottom",bottom:"top"};function U(e){var t=e.workspaces,n=e.setWorkspaces,s=e.selectedWorkspaceIndex,a=e.setSelectedWorkspaceIndex;return Object(y.jsxs)("div",{className:"workspaces-nav",children:[Object(y.jsx)("div",{className:"workspaces-nav-current",children:t[s].name}),Object(y.jsxs)("div",{className:"workspaces-nav-dropdown",children:[t.map((function(e,t){return Object(y.jsx)("a",{onClick:function(){return a(t)},className:s===t?"is-active":"",children:e.name},t)})),Object(y.jsxs)("a",{onClick:function(e){e.preventDefault(),n((function(e){return e=e.concat({name:"new workspace",root:{type:"node",size:100,data:{type:"empty"}}})}))},title:"add",children:[Object(y.jsx)(N,{name:"plus"})," add"]}),Object(y.jsxs)("a",{onClick:function(e){e.preventDefault(),n((function(e){return e.splice(s,1),e.splice()}))},title:"delete",children:[Object(y.jsx)(N,{name:"trash"})," delete"]}),Object(y.jsxs)("a",{onClick:function(e){e.preventDefault();var a=prompt("New Name",t[s].name);a&&n((function(e){var t=s;return e[t]=Object(o.a)(Object(o.a)({},e[t]),{},{name:a}),e.slice()}))},title:"rename",children:[Object(y.jsx)(N,{name:"edit"})," rename"]}),Object(y.jsxs)("a",{onClick:function(e){e.preventDefault(),localStorage.workspaces=JSON.stringify(t)},title:"save",children:[Object(y.jsx)(N,{name:"save"})," save"]})]})]})}var A=function(){var e=h("network","mainnet"),t=Object(i.a)(e,2),n=t[0],a=t[1],r=h("address",""),c=Object(i.a)(r,2),l=c[0],u=c[1],d=h("pools",[]),p=Object(i.a)(d,2),j=(p[0],p[1]),f=h("stats",null),m=Object(i.a)(f,2),v=(m[0],m[1]),w=Object(s.useState)(JSON.parse(localStorage.workspaces||k)),g=Object(i.a)(w,2),N=g[0],C=g[1],W=Object(s.useState)(0),S=Object(i.a)(W,2),M=S[0],I=S[1],L=N[M];return Object(s.useEffect)((function(){window.xfi&&window.xfi.thorchain&&window.xfi.thorchain.request({method:"request_accounts",params:[]},(function(e,t){if(e)return console.error(e);a(window.xfi.thorchain.network),u(t[0])}))}),[]),Object(s.useEffect)((function(){var e=function(){var e=n||"mainnet";b(e,"/pools").then(j),b(e,"/stats").then(v)};e();var t=setInterval(e,15e3);return function(){return clearInterval(t)}}),[n]),Object(y.jsxs)("div",{children:[Object(y.jsxs)("header",{className:"header",children:[Object(y.jsx)("a",{className:"header-brand",href:"/",children:"megingjoro"}),Object(y.jsx)("div",{className:"header-workspaces",children:Object(y.jsx)(U,{workspaces:N,setWorkspaces:C,selectedWorkspaceIndex:M,setSelectedWorkspaceIndex:I})}),Object(y.jsxs)("div",{className:"nav nav-right",children:[Object(y.jsx)("span",{className:"nav-text text-primary",children:l?O(l)+" ("+n+")":""}),"\xa0",Object(y.jsx)("a",{className:"nav-text text-bold",onClick:function(){var e=prompt("THORChain address:",l);e&&u(e)},children:"change"})]})]}),Object(y.jsx)("div",{className:"workspace",children:Object(y.jsx)(P,Object(o.a)(Object(o.a)({},L.root),{},{path:[],updateWorkspace:function(e,t){if(0===t.length)L.root=e(L.root);else{var n=t.slice(0,-1).reduce((function(e,t){return e[t]}),L.root),s=t[t.length-1],a=n?n[s]:L.root;(a=e(a))?n[s]=a:Object.assign(n,x(n[V[s]],{size:n.size}))}N[M]=x({},L),C(N.slice()),window.globalWorkspaces=N}}))})]})};c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(A,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.4874ca06.chunk.js.map