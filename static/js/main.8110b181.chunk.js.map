{"version":3,"sources":["utils/index.js","constants.js","components/icon.js","components/box.js","components/nodeEmpty.js","components/nodeStats.js","components/table.js","components/nodePools.js","components/nodeWallet.js","components/nodeChart.js","components/nodeHistory.js","components/nodeManualTransaction.js","components/node.js","App.js","index.js"],"names":["state","stateListeners","useGlobalState","key","alt","useState","value","setValue","useEffect","onChange","push","splice","indexOf","forEach","fn","midgardRequest","network","path","apiRequest","api","fetch","then","res","a","status","Error","text","json","merge","o1","o2","Object","assign","padLeft","num","len","ch","numText","toString","i","length","formatAddress","address","slice","formatMoney","n","intp","parseFloat","toFixed","replace","decp","split","formatDate","dateString","d","Date","getFullYear","getMonth","getDate","join","formatTime","getHours","getMinutes","getSeconds","window","globalState","defaultWorksapces","JSON","stringify","name","root","type","size","data","Icon","props","className","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","Box","title","updateWorkspace","children","onSelectType","node","onSplit","direction","top","bottom","left","right","onClick","bind","NodeEmpty","e","preventDefault","NodeStats","stats","parseInt","runeDepth","Math","pow","runePriceUSD","swapVolume","swapCount24h","dailyActiveUsers","swapCount30d","monthlyActiveUsers","swapCount","uniqueSwapperCount","impermanentLossProtectionPaid","Table","headers","rows","defaultSort","propsFilters","filters","propsOnFilterChange","onFilterChange","setFilters","id","sort","setSort","headerId","newValue","target","newFilters","onSort","filteredRows","filter","r","sortProp","b","v1","v2","reverse","map","h","class","style","v","NodePools","pools","p","price","assetPriceUSD","depth","assetDepth","volume","volume24h","assetPrice","asset","priceValue","apy","poolAPY","apyValue","depthValue","volumeValue","NodeWallet","addressPools","setAddressPools","addressBalances","setAddressBalances","result","thornodeRequest","balances","denom","amount","valueValue","assetAmount","assetAmountValue","assetRemoved","runeAdded","runeRemoved","start","pool","find","pp","amountRune","runeWithdrawn","amountAsset","assetAdded","assetWithdrawn","assetRemovedValue","runeAddedValue","runeRemovedValue","dateFirstAdded","NodeChart","chartRef","useRef","setAsset","range","setRange","prices","setPrices","loadData","intervals","handle","setInterval","clearInterval","el","current","lastChild","removeChild","rect","getBoundingClientRect","chart","createChart","width","height","layout","backgroundColor","textColor","fontSize","fontFamily","vertLines","color","visible","horzLines","timeScale","fixLeftEdge","timeVisible","addAreaSeries","bottomColor","lineColor","setData","time","startTime","setVisibleLogicalRange","from","to","display","flexDirection","padding","newAsset","marginRight","newRange","flex","ref","NodeHistory","addressActions","setAddressActions","actions","asset2","in","coins","out","date","timeValue","amountValue","NodeManualTransaction","Node","nodeRef","isDragging","setIsDragging","onMouseMove","nodes","querySelectorAll","percentWidth","clientX","clientY","min","max","round","flexBasis","concat","onMouseDown","onMouseUp","removeEventListener","addEventListener","renderNode","nodeSiblingNameMap","WorkspacesNav","workspaces","setWorkspaces","selectedWorkspaceIndex","setSelectedWorkspaceIndex","w","newName","prompt","localStorage","App","setNetwork","setAddress","setPools","setStats","parse","selectedWorkspace","xfi","thorchain","request","method","params","err","accounts","console","error","refresh","href","newAddress","update","parent","reduce","leaf","tail","globalWorkspaces","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8110b181.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst state = {};\nconst stateListeners = [];\nwindow.globalState = state;\n\nexport function useGlobalState(key, alt) {\n  const [value, setValue] = useState(state[key] || alt);\n  useEffect(() => {\n    const onChange = () => {\n      if (value !== state[key] || alt) {\n        setValue(state[key] || alt);\n      }\n    };\n    stateListeners.push(onChange);\n    return () => stateListeners.splice(stateListeners.indexOf(onChange), 1);\n  }, []);\n  const onSet = (value) => {\n    state[key] = value;\n    stateListeners.forEach((fn) => fn());\n  };\n  return [value, onSet];\n}\n\nexport function midgardRequest(network, path) {\n  return apiRequest(\"midgard\", network, \"/v2\" + path);\n}\n\nexport function thornodeRequest(network, path) {\n  return apiRequest(\"thornode\", network, path);\n}\n\nexport function apiRequest(api, network, path) {\n  return fetch(\n    `https://${\n      network === \"testnet\" ? \"testnet.\" : \"\"\n    }${api}.thorchain.info${path}`\n  ).then(async (res) => {\n    if (res.status !== 200) {\n      throw new Error(\n        \"Non 2xx response code: \" + res.status + \": \" + (await res.text())\n      );\n    }\n    return res.json();\n  });\n}\n\nexport function merge(o1, o2) {\n  return Object.assign(Object.assign({}, o1), o2);\n}\n\nexport function sortBy(fn, vs) {\n  return vs.sort((a, b) => {\n    const v1 = fn(a);\n    const v2 = fn(b);\n    return typeof v1 === \"number\" ? v1 - v2 : v1 > v2;\n  });\n}\n\nexport function padLeft(num, len, ch) {\n  var numText = num.toString();\n  for (var i = numText.length; i < len; i++) {\n    numText = ch + numText;\n  }\n  return numText;\n}\n\nexport function formatAddress(address) {\n  return address.slice(0, 8) + \"…\" + address.slice(-4);\n}\n\nexport function formatDecimal(val, precision) {\n  if (val === \"n/a\" || val === \"-\") return val;\n  val = parseFloat(val);\n  if (Number.isNaN(val)) val = 0;\n  return val.toFixed(precision);\n}\n\nexport function formatMoney(value, n = 0) {\n  value = parseFloat(value);\n  var intp = value.toFixed(0).replace(/(\\d)(?=(\\d{3})+$)/g, \"$1 \");\n  var decp = n > 0 ? \".\" + value.toFixed(n).split(\".\")[1] : \"\";\n  return intp + decp;\n}\n\nexport function formatDate(dateString) {\n  const d = new Date(dateString);\n  return [\n    d.getFullYear(),\n    padLeft(d.getMonth() - 1, 2, \"0\"),\n    padLeft(d.getDate(), 2, \"0\"),\n  ].join(\"-\");\n}\n\nexport function formatTime(dateString) {\n  const d = new Date(dateString);\n  return [\n    padLeft(d.getHours(), 2, \"0\"),\n    padLeft(d.getMinutes(), 2, \"0\"),\n    padLeft(d.getSeconds(), 2, \"0\"),\n  ].join(\":\");\n}\n\nexport function formatDatetime(dateString) {\n  const d = new Date(dateString);\n  return formatDate(d) + \" \" + formatTime(d);\n}\n\nexport function classForNumber(n) {\n  return n < 0 ? \"text-red\" : n > 0 ? \"text-green\" : \"\";\n}\n","export const NODE_TYPES = {\n  empty: { id: \"empty\", name: \"empty\" },\n  stats: { id: \"stats\", name: \"stats\" },\n  pools: { id: \"pools\", name: \"pools\" },\n  chart: { id: \"chart\", name: \"chart\" },\n  wallet: { id: \"wallet\", name: \"wallet\" },\n  history: { id: \"history\", name: \"history\" },\n  manualTransaction: { id: \"manualTransaction\", name: \"manual transaction\" },\n};\n\nexport const defaultWorksapces = JSON.stringify([\n  {\n    name: \"default\",\n    root: { type: \"node\", size: 100, data: { type: \"empty\" } },\n  },\n]);\n","import React from \"react\";\n\nfunction Icon(props) {\n  const className = \"icon h-6 w-6\";\n  switch (props.name) {\n    case \"plus\":\n      return (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={className}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\"\n          />\n        </svg>\n      );\n    case \"trash\":\n      return (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={className}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n          />\n        </svg>\n      );\n    case \"edit\":\n      return (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={className}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"\n          />\n        </svg>\n      );\n    case \"save\":\n      return (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={className}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M17 16v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-7a2 2 0 012-2h2m3-4H9a2 2 0 00-2 2v7a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-1m-1 4l-3 3m0 0l-3-3m3 3V3\"\n          />\n        </svg>\n      );\n    case \"times\":\n      return (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={className}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M6 18L18 6M6 6l12 12\"\n          />\n        </svg>\n      );\n    case \"arrows-alt-v\":\n      return (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={className}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4\"\n          />\n        </svg>\n      );\n    case \"arrows-alt-h\":\n      return (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={className}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\"\n          />\n        </svg>\n      );\n    case \"chevron-up\":\n      return (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={className}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M5 15l7-7 7 7\"\n          />\n        </svg>\n      );\n    case \"chevron-down\":\n      return (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className={className}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M19 9l-7 7-7-7\"\n          />\n        </svg>\n      );\n    default:\n      throw new Error(\"Unknow icon name: \" + props.name);\n  }\n}\n\nexport default Icon;\n","import React, { Component } from \"react\";\n\nimport Icon from \"./icon\";\n\nexport default function Box({ title, path, updateWorkspace, children }) {\n  function onSelectType() {\n    updateWorkspace(\n      (node) => Object.assign(node, { data: { type: \"empty\" } }),\n      path\n    );\n  }\n\n  function onClose() {\n    if (path.length === 0) {\n      onSelectType();\n      return;\n    }\n    updateWorkspace(() => null, path);\n  }\n\n  function onSplit(direction) {\n    updateWorkspace((node) => {\n      if (direction === \"vertically\") {\n        return {\n          type: \"vsplit\",\n          size: node.size,\n          top: Object.assign(node, { size: 50 }),\n          bottom: { type: \"node\", size: 50, data: { type: \"empty\" } },\n        };\n      } else {\n        return {\n          type: \"hsplit\",\n          size: node.size,\n          left: Object.assign(node, { size: 50 }),\n          right: { type: \"node\", size: 50, data: { type: \"empty\" } },\n        };\n      }\n    }, path);\n  }\n\n  return (\n    <div className=\"box\">\n      <div className=\"box-header\">\n        <span\n          className=\"box-header-title\"\n          title=\"Change panel type\"\n          onClick={onSelectType}\n        >\n          {title}\n        </span>\n        <div className=\"box-header-icon\" title=\"Close\" onClick={onClose}>\n          <Icon name=\"times\" />\n        </div>\n        <div\n          className=\"box-header-icon\"\n          title=\"Split Horizontally\"\n          onClick={onSplit.bind(null, \"horizontally\")}\n        >\n          <Icon name=\"arrows-alt-h\" />\n        </div>\n        <div\n          className=\"box-header-icon\"\n          title=\"Split Vertically\"\n          onClick={onSplit.bind(null, \"vertically\")}\n        >\n          <Icon name=\"arrows-alt-v\" />\n        </div>\n      </div>\n      <div className=\"box-contents\">{children}</div>\n    </div>\n  );\n}\n","import { merge } from \"../utils\";\nimport Box from \"./box\";\n\nexport default function NodeEmpty({ path, updateWorkspace }) {\n  function onSelectType(type, e) {\n    e.preventDefault();\n    let update = (node) => merge(node, { data: { type: type } });\n    updateWorkspace(update, path);\n  }\n\n  return (\n    <Box title=\"Empty\" path={path} updateWorkspace={updateWorkspace}>\n      <div>\n        <br />\n        <p className=\"text-center\">select a panel type:</p>\n        <div className=\"node-empty\">\n          <button className=\"button\" onClick={onSelectType.bind(null, \"stats\")}>\n            <strong>stats.</strong>\n            <span>global thorchain stats.</span>\n          </button>\n          <button className=\"button\" onClick={onSelectType.bind(null, \"pools\")}>\n            <strong>pools.</strong>\n            <span>list of thorchain pools.</span>\n          </button>\n          <button\n            className=\"button\"\n            onClick={onSelectType.bind(null, \"wallet\")}\n          >\n            <strong>wallet.</strong>\n            <span>your rune, synth and lp balances.</span>\n          </button>\n          <button className=\"button\" onClick={onSelectType.bind(null, \"chart\")}>\n            <strong>chart.</strong>\n            <span>price chart for a pool.</span>\n          </button>\n          <button\n            className=\"button\"\n            onClick={onSelectType.bind(null, \"history\")}\n          >\n            <strong>history.</strong>\n            <span>action history for current address.</span>\n          </button>\n          <button\n            className=\"button\"\n            onClick={onSelectType.bind(null, \"manualTransaction\")}\n          >\n            <strong>manual transaction.</strong>\n            <span>send in a manual thorchain transaction.</span>\n          </button>\n        </div>\n      </div>\n    </Box>\n  );\n}\n","import { formatMoney, useGlobalState } from \"../utils\";\nimport Box from \"./box\";\n\nexport default function NodeStats({ path, updateWorkspace }) {\n  const [stats] = useGlobalState(\"stats\");\n  return (\n    <Box title=\"Stats\" path={path} updateWorkspace={updateWorkspace}>\n      {stats ? (\n        <div className=\"node-empty\">\n          <button className=\"button\">\n            <strong className=\"text-primary\">\n              $\n              {formatMoney(\n                ((parseInt(stats.runeDepth) * 2) / Math.pow(10, 8)) *\n                  parseFloat(stats.runePriceUSD)\n              )}\n            </strong>\n            <span>total liquidity</span>\n          </button>\n          <button className=\"button\">\n            <strong>\n              $\n              {formatMoney(\n                (parseInt(stats.swapVolume) / Math.pow(10, 8)) *\n                  parseFloat(stats.runePriceUSD)\n              )}\n            </strong>\n            <span>total swap volume</span>\n          </button>\n          <button className=\"button\">\n            <strong>{formatMoney(stats.swapCount24h)}</strong>\n            <span>24h swap count</span>\n          </button>\n          <button className=\"button\">\n            <strong>{formatMoney(stats.dailyActiveUsers)}</strong>\n            <span>24h active users</span>\n          </button>\n          <button className=\"button\">\n            <strong>{formatMoney(stats.swapCount30d)}</strong>\n            <span>30d swap count</span>\n          </button>\n          <button className=\"button\">\n            <strong>{formatMoney(stats.monthlyActiveUsers)}</strong>\n            <span>30d active users</span>\n          </button>\n          <button className=\"button\">\n            <strong>{formatMoney(stats.swapCount)}</strong>\n            <span>total swap count</span>\n          </button>\n          <button className=\"button\">\n            <strong>{formatMoney(stats.uniqueSwapperCount)}</strong>\n            <span>unique users</span>\n          </button>\n          <button className=\"button\">\n            <strong>${formatMoney(stats.runePriceUSD, 2)}</strong>\n            <span>rune price</span>\n          </button>\n          <button className=\"button\">\n            <strong>\n              $\n              {formatMoney(\n                (parseFloat(stats.impermanentLossProtectionPaid) /\n                  Math.pow(10, 8)) *\n                  parseFloat(stats.runePriceUSD)\n              )}\n            </strong>\n            <span>il paid</span>\n          </button>\n        </div>\n      ) : (\n        \"loading...\"\n      )}\n    </Box>\n  );\n}\n","import { useState } from \"react\";\nimport { merge, sortBy } from \"../utils\";\n\nexport default function Table({\n  headers,\n  rows,\n  defaultSort,\n  filters: propsFilters,\n  onFilterChange: propsOnFilterChange,\n}) {\n  const [filters, setFilters] = useState(propsFilters || {});\n  const [sort, setSort] = useState(defaultSort || \"+\" + headers[0].id);\n\n  function onFilterChange(headerId, e) {\n    let newValue = null;\n    if (e.target.value !== \"all\") {\n      newValue = e.target.value;\n    }\n    const newFilters = merge(filters, { [headerId]: newValue });\n    setFilters(newFilters);\n    if (propsOnFilterChange) {\n      propsOnFilterChange(newFilters);\n    }\n  }\n\n  function onSort(headerId) {\n    if (sort && sort.slice(1) === headerId) {\n      setSort((sort[0] === \"+\" ? \"-\" : \"+\") + sort.slice(1));\n    } else {\n      setSort(\"+\" + headerId);\n    }\n  }\n\n  let filteredRows = rows.filter((r) => {\n    for (let i in filters) {\n      if (filters[i]) {\n        if (r[i] !== filters[i]) {\n          return false;\n        }\n      }\n    }\n    return true;\n  });\n  let sortProp = sort.slice(1);\n  filteredRows = sortBy(\n    (r) => (sortProp + \"Value\" in r ? r[sortProp + \"Value\"] : r[sortProp]),\n    filteredRows\n  );\n  if (sort[0] === \"-\") filteredRows = filteredRows.reverse();\n\n  const valuesForFilter = (key) => {\n    const uniq = (e, i, a) => a.indexOf(e) === i;\n    return rows\n      .map((r) => r[key])\n      .filter(uniq)\n      .sort();\n  };\n\n  return (\n    <table className=\"trading-table\">\n      <thead>\n        <tr>\n          {headers.map((h) => (\n            <th key={h.id} className={h.class} style={h.style || {}}>\n              {h.filter ? (\n                <select\n                  onChange={onFilterChange.bind(null, h.id)}\n                  value={filters[h.id] || \"all\"}\n                >\n                  <option value=\"all\">all</option>\n                  {valuesForFilter(h.id).map((v) => (\n                    <option key={v} value={v}>\n                      {v}\n                    </option>\n                  ))}\n                </select>\n              ) : null}\n            </th>\n          ))}\n        </tr>\n        <tr>\n          {headers.map((h) => (\n            <th\n              key={h.id}\n              className={h.class}\n              style={h.style || {}}\n              onClick={onSort.bind(null, h.id)}\n            >\n              {sort.slice(1) === h.id ? sort[0] : \"\"}\n              {h.name || h.id}\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {filteredRows.map((r, i) => (\n          <tr key={i}>\n            {headers.map((h) => (\n              <td\n                key={h.id}\n                className={h.class + \" \" + r[h.id + \"Class\"] || \"\"}\n                style={h.style || {}}\n                title={r[h.id + \"Title\"] || \"\"}\n              >\n                {r[h.id]}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n","import { merge, formatMoney, useGlobalState } from \"../utils\";\nimport Box from \"./box\";\nimport Table from \"./table\";\n\nexport default function NodePools({ data, path, updateWorkspace }) {\n  const [pools, setPools] = useGlobalState(\"pools\", []);\n  const onFilterChange = (filters) => {\n    const updateFn = (n) => merge(n, { data: merge(n.data, { filters }) });\n    updateWorkspace(updateFn, path);\n  };\n  const headers = [\n    { id: \"asset\", filter: true },\n    { id: \"status\", filter: true },\n    { id: \"price\", class: \"text-right\" },\n    { id: \"apy\", class: \"text-right\" },\n    { id: \"depth\", class: \"text-right\" },\n    { id: \"volume\", name: \"volume (24h)\", class: \"text-right\" },\n  ];\n  const rows = pools.map((p) => {\n    const price = parseFloat(p.assetPriceUSD);\n    const depth =\n      (parseInt(p.assetDepth) / Math.pow(10, 8)) *\n      parseFloat(p.assetPriceUSD) *\n      2;\n    const volume =\n      ((parseFloat(p.volume24h) / Math.pow(10, 8)) *\n        parseFloat(p.assetPriceUSD)) /\n        parseFloat(p.assetPrice) || 0;\n    return {\n      asset: p.asset,\n      status: p.status,\n      price: formatMoney(price, 2),\n      priceValue: price,\n      apy: formatMoney(parseFloat(p.poolAPY) * 100, 2),\n      apyValue: parseFloat(p.poolAPY),\n      depth: formatMoney(depth),\n      depthValue: depth,\n      volume: formatMoney(volume),\n      volumeValue: volume,\n    };\n  });\n  return (\n    <Box title=\"Pools\" path={path} updateWorkspace={updateWorkspace}>\n      <Table\n        headers={headers}\n        rows={rows}\n        filters={data.filters}\n        onFilterChange={onFilterChange}\n      />\n    </Box>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport {\n  merge,\n  formatDate,\n  formatMoney,\n  useGlobalState,\n  midgardRequest,\n  thornodeRequest,\n} from \"../utils\";\nimport Box from \"./box\";\nimport Table from \"./table\";\n\nexport default function NodeWallet({ data, path, updateWorkspace }) {\n  const [network] = useGlobalState(\"network\");\n  const [address] = useGlobalState(\"address\");\n  const [stats] = useGlobalState(\"stats\");\n  const [pools] = useGlobalState(\"pools\");\n  const [addressPools, setAddressPools] = useState([]);\n  const [addressBalances, setAddressBalances] = useState([]);\n\n  const onFilterChange = (filters) => {\n    const updateFn = (n) => merge(n, { data: merge(n.data, { filters }) });\n    updateWorkspace(updateFn, path);\n  };\n\n  useEffect(() => {\n    if (!address) return;\n    midgardRequest(network, \"/member/\" + address).then(\n      (result) => setAddressPools(result.pools),\n      () => {}\n    );\n    thornodeRequest(network, \"/cosmos/bank/v1beta1/balances/\" + address).then(\n      (result) => setAddressBalances(result.balances),\n      () => {}\n    );\n  }, [network, address]);\n\n  const headers = [\n    { id: \"asset\", filter: true },\n    { id: \"value\", class: \"text-right\" },\n    { id: \"assetAmount\", name: \"asset\", class: \"text-right\" },\n    { id: \"assetRemoved\", name: \"-asset\", class: \"text-right\" },\n    { id: \"runeAdded\", name: \"rune\", class: \"text-right\" },\n    { id: \"runeRemoved\", name: \"-rune\", class: \"text-right\" },\n    { id: \"start\", name: \"first added\", class: \"text-right\" },\n  ];\n  const rows = [];\n  addressBalances.forEach((b) => {\n    if (!stats) return;\n    const price = b.denom === \"rune\" ? parseFloat(stats.runePriceUSD) : 0;\n    const amount = parseInt(b.amount) / Math.pow(10, 8);\n    rows.push({\n      asset: b.denom,\n      value: formatMoney(amount * price),\n      valueValue: amount * price,\n      assetAmount: formatMoney(amount, 2),\n      assetAmountValue: amount,\n      assetRemoved: \"\",\n      runeAdded: \"\",\n      runeRemoved: \"\",\n      start: \"\",\n    });\n  });\n  addressPools.forEach((p) => {\n    const pool = pools.find((pp) => pp.asset === p.pool);\n    if (!pool) return;\n    const amountRune =\n      (parseInt(p.runeAdded) - parseInt(p.runeWithdrawn)) / Math.pow(10, 8);\n    const amountAsset =\n      (parseInt(p.assetAdded) - parseInt(p.assetWithdrawn)) / Math.pow(10, 8);\n    const runePrice =\n      parseFloat(pool.assetPriceUSD) / parseFloat(pool.assetPrice);\n    const value =\n      amountRune * runePrice + amountAsset * parseFloat(pool.assetPrice);\n    rows.push({\n      asset: p.pool + \" Pool\",\n      value: formatMoney(value),\n      valueValue: value,\n      assetAmount: formatMoney(amountAsset, 2),\n      assetAmountValue: amountAsset,\n      assetRemoved: formatMoney(\n        parseInt(p.assetWithdrawn) / Math.pow(10, 8),\n        2\n      ),\n      assetRemovedValue: parseInt(p.assetWithdrawn),\n      runeAdded: formatMoney(parseInt(p.runeAdded) / Math.pow(10, 8), 1),\n      runeAddedValue: parseInt(p.runeAdded),\n      runeRemoved: formatMoney(parseInt(p.assetWithdrawn) / Math.pow(10, 8), 1),\n      runeRemovedValue: parseInt(p.assetWithdrawn),\n      start: formatDate(parseInt(p.dateFirstAdded) * 1000),\n    });\n  });\n  return (\n    <Box title=\"Wallet\" path={path} updateWorkspace={updateWorkspace}>\n      <Table\n        headers={headers}\n        rows={rows}\n        filters={data.filters}\n        onFilterChange={onFilterChange}\n      />\n    </Box>\n  );\n}\n","import { useRef, useState, useEffect } from \"react\";\nimport { createChart } from \"lightweight-charts\";\nimport { merge, formatMoney, midgardRequest, useGlobalState } from \"../utils\";\nimport Box from \"./box\";\n\nexport default function NodeChart({ data, path, updateWorkspace }) {\n  const chartRef = useRef();\n  const [network] = useGlobalState(\"network\", \"mainnet\");\n  const [pools] = useGlobalState(\"pools\", []);\n  const [asset, setAsset] = useState(data.asset || \"BTC.BTC\");\n  const [range, setRange] = useState(data.range || \"1d\");\n  const [prices, setPrices] = useState();\n\n  function loadData(asset, range) {\n    const queryMap = {\n      \"1d\": \"interval=5min&count=288\",\n      \"1w\": \"interval=hour&count=168\",\n      \"3m\": \"interval=day&count=90\",\n      \"1y\": \"interval=day&count=365\",\n    };\n    midgardRequest(\n      network,\n      \"/history/depths/\" + asset + \"?\" + queryMap[range]\n    ).then(\n      (result) => setPrices(result.intervals),\n      () => {}\n    );\n  }\n\n  function onAssetChange(e) {\n    const newAsset = e.target.value;\n    setAsset(newAsset);\n    const updateFn = (n) =>\n      merge(n, { data: merge(n.data, { asset: newAsset }) });\n    updateWorkspace(updateFn, path);\n  }\n  function onRangeChange(e) {\n    const newRange = e.target.value;\n    setRange(newRange);\n    const updateFn = (n) =>\n      merge(n, { data: merge(n.data, { range: newRange }) });\n    updateWorkspace(updateFn, path);\n  }\n\n  useEffect(() => {\n    loadData(asset, range);\n    const handle = setInterval(() => loadData(asset, range), 15000);\n    return () => clearInterval(handle);\n  }, [asset, range]);\n  useEffect(() => {\n    const el = chartRef.current;\n    if (!el || !prices) return;\n    while (el.lastChild) {\n      el.removeChild(el.lastChild);\n    }\n    const rect = el.getBoundingClientRect();\n    const chart = createChart(el, {\n      width: rect.width,\n      height: rect.height,\n      layout: {\n        backgroundColor: \"#111827\",\n        textColor: \"#ffffff\",\n        fontSize: 12,\n        fontFamily: \"IBM Plex Mono\",\n      },\n      vertLines: {\n        color: \"rgba(40,40,40,0.2)\",\n        style: 1,\n        visible: true,\n      },\n      horzLines: {\n        color: \"rgba(40,40,40,0.2)\",\n        style: 1,\n        visible: true,\n      },\n      timeScale: {\n        fixLeftEdge: true,\n        timeVisible: true,\n      },\n    });\n    const series = chart.addAreaSeries({\n      bottomColor: \"rgba(35, 220, 200, 0.5)\",\n      lineColor: \"rgba(35, 220, 200, 1)\",\n    });\n    series.setData(\n      prices.map((p) => ({\n        time: parseInt(p.startTime),\n        value: parseFloat(p.assetPriceUSD),\n      }))\n    );\n    chart.timeScale().setVisibleLogicalRange({\n      from: 0,\n      to: prices.length,\n    });\n  }, [chartRef.current, prices]);\n\n  return (\n    <Box title=\"Chart\" path={path} updateWorkspace={updateWorkspace}>\n      <div style={{ display: \"flex\", flexDirection: \"column\", height: \"100%\" }}>\n        <div style={{ display: \"flex\", padding: \"4px\" }}>\n          <select\n            value={asset}\n            onChange={onAssetChange}\n            style={{ padding: \"4px 8px\", width: \"100px\", marginRight: \"8px\" }}\n          >\n            {pools\n              .sort((a, b) => parseInt(b.runeDepth) - parseInt(a.runeDepth))\n              .map((p) => (\n                <option value={p.asset} key={p.asset}>\n                  {p.asset.slice(0, 12)}\n                </option>\n              ))}\n          </select>\n          <select\n            value={range}\n            onChange={onRangeChange}\n            style={{ padding: \"4px 8px\", width: \"100px\" }}\n          >\n            <option value=\"1d\">past day</option>\n            <option value=\"1w\">past week</option>\n            <option value=\"3m\">past 3 months</option>\n            <option value=\"1y\">past year</option>\n          </select>\n          <div style={{ flex: \"1\" }} />\n          <div>\n            {prices\n              ? formatMoney(prices[prices.length - 1].assetPriceUSD, 2)\n              : \"\"}\n          </div>\n        </div>\n        <div style={{ flex: \"1\" }} ref={chartRef} />\n      </div>\n    </Box>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport {\n  merge,\n  formatDate,\n  formatTime,\n  formatMoney,\n  useGlobalState,\n  midgardRequest,\n} from \"../utils\";\nimport Box from \"./box\";\nimport Table from \"./table\";\n\nexport default function NodeHistory({ data, path, updateWorkspace }) {\n  const [network] = useGlobalState(\"network\");\n  const [address] = useGlobalState(\"address\");\n  const [pools] = useGlobalState(\"pools\");\n  const [addressActions, setAddressActions] = useState([]);\n\n  const onFilterChange = (filters) => {\n    const updateFn = (n) => merge(n, { data: merge(n.data, { filters }) });\n    updateWorkspace(updateFn, path);\n  };\n\n  useEffect(() => {\n    if (!address) return;\n    midgardRequest(\n      network,\n      \"/actions?limit=50&offset=0&address=\" + address\n    ).then(\n      (result) => setAddressActions(result.actions),\n      () => {}\n    );\n  }, [network, address]);\n\n  const headers = [\n    { id: \"time\", class: \"w-datetime\" },\n    { id: \"type\", filter: true },\n    { id: \"status\", filter: true },\n    { id: \"asset\", filter: true },\n    { id: \"asset2\", filter: true },\n    { id: \"amount\", class: \"text-right\" },\n  ];\n  const rows = [];\n  addressActions.forEach((a) => {\n    let asset = \"\";\n    let asset2 = \"\";\n    let amount = 0;\n    if (a.type === \"switch\") {\n      asset = a.in[0].coins[0].asset;\n      asset2 = a.out[0].coins[0].asset;\n      amount = parseInt(a.out[0].coins[0].amount) / Math.pow(10, 8);\n    }\n    if (a.type === \"addLiquidity\") {\n      asset = a.pools[0];\n      asset2 = a.in[0].coins[0].asset;\n      amount = parseInt(a.in[0].coins[0].amount) / Math.pow(10, 8);\n    }\n    if (a.type === \"withdraw\") {\n      asset = a.pools[0];\n      asset2 = a.out[0].coins[0].asset;\n      amount = parseInt(a.out[0].coins[0].amount) / Math.pow(10, 8);\n    }\n    if (a.type === \"swap\") {\n      asset = a.in[0].coins[0].asset;\n      asset2 = a.out[0].coins[0].asset;\n      amount = parseInt(a.out[0].coins[0].amount) / Math.pow(10, 8);\n    }\n    rows.push({\n      time:\n        formatDate(parseInt(a.date) / 1000000).slice(2) +\n        \" \" +\n        formatTime(parseInt(a.date) / 1000000),\n      timeValue: parseInt(a.date),\n      type: a.type,\n      status: a.status,\n      asset: asset,\n      asset2: asset2,\n      amount: formatMoney(amount, 2),\n      amountValue: amount,\n    });\n  });\n  return (\n    <Box title=\"History\" path={path} updateWorkspace={updateWorkspace}>\n      <Table\n        defaultSort={\"-time\"}\n        headers={headers}\n        rows={rows}\n        filters={data.filters}\n        onFilterChange={onFilterChange}\n      />\n    </Box>\n  );\n}\n","import { formatMoney } from \"../utils\";\nimport Box from \"./box\";\n\nexport default function NodeManualTransaction({ path, updateWorkspace }) {\n  return (\n    <Box\n      title=\"Manual Transaction\"\n      path={path}\n      updateWorkspace={updateWorkspace}\n    >\n      WIP\n    </Box>\n  );\n}\n","import React, { useRef, useState, useEffect } from \"react\";\nimport { merge } from \"../utils\";\nimport NodeEmpty from \"./nodeEmpty\";\nimport NodeStats from \"./nodeStats\";\nimport NodePools from \"./nodePools\";\nimport NodeWallet from \"./nodeWallet\";\nimport NodeChart from \"./nodeChart\";\nimport NodeHistory from \"./nodeHistory\";\nimport NodeManualTransaction from \"./nodeManualTransaction\";\n\nexport default function Node({\n  type,\n  size,\n  data,\n  path,\n  updateWorkspace,\n  top,\n  bottom,\n  left,\n  right,\n}) {\n  const nodeRef = useRef();\n  const [isDragging, setIsDragging] = useState(false);\n\n  const onMouseMove = (e) => {\n    let el = nodeRef.current;\n    let nodes = el.querySelectorAll(\".workspace-node\");\n    let rect = el.getBoundingClientRect();\n\n    let pos = type === \"hsplit\" ? e.clientX : e.clientY;\n    let edge = type === \"hsplit\" ? rect.left : rect.top;\n    let size = type === \"hsplit\" ? rect.width : rect.height;\n    let percentWidth = ((pos - edge) / size) * 100;\n    percentWidth = Math.min(85, Math.max(15, percentWidth));\n    percentWidth = Math.round(percentWidth / 5) * 5;\n    nodes[0].style.flexBasis = percentWidth + \"%\";\n    nodes[1].style.flexBasis = 100 - percentWidth + \"%\";\n\n    if (type === \"hsplit\") {\n      updateWorkspace(\n        (node) =>\n          merge(node, {\n            size: percentWidth,\n          }),\n        path.concat([\"left\"])\n      );\n      updateWorkspace(\n        (node) =>\n          merge(node, {\n            size: 100 - percentWidth,\n          }),\n        path.concat([\"right\"])\n      );\n    } else {\n      updateWorkspace(\n        (node) =>\n          merge(node, {\n            size: percentWidth,\n          }),\n        path.concat([\"top\"])\n      );\n      updateWorkspace(\n        (node) =>\n          merge(node, {\n            size: 100 - percentWidth,\n          }),\n        path.concat([\"bottom\"])\n      );\n    }\n  };\n  function onMouseDown() {\n    setIsDragging(true);\n  }\n  function onMouseUp() {\n    setIsDragging(false);\n    window.removeEventListener(\"mousemove\", onMouseMove);\n  }\n\n  useEffect(() => {\n    if (!isDragging) return;\n    window.addEventListener(\"mouseup\", onMouseUp);\n    window.addEventListener(\"mousemove\", onMouseMove);\n    return () => {\n      window.removeEventListener(\"mouseup\", onMouseUp);\n      window.removeEventListener(\"mousemove\", onMouseMove);\n    };\n  }, [isDragging]);\n\n  const renderNode = () => {\n    switch (data.type) {\n      case \"empty\":\n        return (\n          <NodeEmpty\n            data={data}\n            path={path}\n            updateWorkspace={updateWorkspace}\n          />\n        );\n      case \"stats\":\n        return (\n          <NodeStats\n            data={data}\n            path={path}\n            updateWorkspace={updateWorkspace}\n          />\n        );\n      case \"pools\":\n        return (\n          <NodePools\n            data={data}\n            path={path}\n            updateWorkspace={updateWorkspace}\n          />\n        );\n      case \"wallet\":\n        return (\n          <NodeWallet\n            data={data}\n            path={path}\n            updateWorkspace={updateWorkspace}\n          />\n        );\n      case \"chart\":\n        return (\n          <NodeChart\n            data={data}\n            path={path}\n            updateWorkspace={updateWorkspace}\n          />\n        );\n      case \"history\":\n        return (\n          <NodeHistory\n            data={data}\n            path={path}\n            updateWorkspace={updateWorkspace}\n          />\n        );\n      case \"manualTransaction\":\n        return (\n          <NodeManualTransaction\n            data={data}\n            path={path}\n            updateWorkspace={updateWorkspace}\n          />\n        );\n      default:\n        throw new Error(\"Unknown terminal node type: \" + data.type);\n    }\n  };\n  switch (type) {\n    case \"vsplit\":\n      return (\n        <div\n          ref={nodeRef}\n          className={\n            \"workspace-node workspace-vsplit \" +\n            (isDragging ? \"is-dragging\" : \"\")\n          }\n          style={{ flexBasis: size + \"%\" }}\n        >\n          <Node\n            {...top}\n            path={path.concat([\"top\"])}\n            updateWorkspace={updateWorkspace}\n          />\n          <div\n            className={\n              \"workspace-resize-handle \" + (isDragging ? \"is-dragging\" : \"\")\n            }\n            onMouseDown={onMouseDown}\n          />\n          <Node\n            {...bottom}\n            path={path.concat([\"bottom\"])}\n            updateWorkspace={updateWorkspace}\n          />\n        </div>\n      );\n    case \"hsplit\":\n      return (\n        <div\n          ref={nodeRef}\n          className={\n            \"workspace-node workspace-hsplit \" +\n            (isDragging ? \"is-dragging\" : \"\")\n          }\n          style={{ flexBasis: size + \"%\" }}\n        >\n          <Node\n            {...left}\n            path={path.concat([\"left\"])}\n            updateWorkspace={updateWorkspace}\n          />\n          <div\n            className={\n              \"workspace-resize-handle \" + (isDragging ? \"is-dragging\" : \"\")\n            }\n            onMouseDown={onMouseDown}\n          />\n          <Node\n            {...right}\n            path={path.concat([\"right\"])}\n            updateWorkspace={updateWorkspace}\n          />\n        </div>\n      );\n    case \"node\":\n      return (\n        <div\n          ref={nodeRef}\n          className=\"workspace-node\"\n          style={{ flexBasis: size + \"%\" }}\n        >\n          {renderNode()}\n        </div>\n      );\n    default:\n      throw new Error(\"Unknown node type: \" + type);\n  }\n}\n","import { useEffect, useState } from \"react\";\nimport { merge, formatAddress, useGlobalState, midgardRequest } from \"./utils\";\nimport { defaultWorksapces } from \"./constants\";\n\nimport Icon from \"./components/icon\";\nimport Node from \"./components/node\";\n\nconst nodeSiblingNameMap = {\n  left: \"right\",\n  right: \"left\",\n  top: \"bottom\",\n  bottom: \"top\",\n};\n\nfunction App() {\n  const [network, setNetwork] = useGlobalState(\"network\", \"mainnet\");\n  const [address, setAddress] = useGlobalState(\"address\", \"\");\n  const [pools, setPools] = useGlobalState(\"pools\", []);\n  const [stats, setStats] = useGlobalState(\"stats\", null);\n  const [workspaces, setWorkspaces] = useState(\n    JSON.parse(localStorage.workspaces || defaultWorksapces)\n  );\n  const [selectedWorkspaceIndex, setSelectedWorkspaceIndex] = useState(0);\n  const selectedWorkspace = workspaces[selectedWorkspaceIndex];\n\n  useEffect(() => {\n    if (!window.xfi || !window.xfi.thorchain) return;\n    window.xfi.thorchain.request(\n      { method: \"request_accounts\", params: [] },\n      (err, accounts) => {\n        if (err) return console.error(err);\n        setNetwork(window.xfi.thorchain.network);\n        setAddress(accounts[0]);\n      }\n    );\n  }, []);\n  useEffect(() => {\n    const refresh = () => {\n      const n = network || \"mainnet\";\n      midgardRequest(n, \"/pools\").then(setPools);\n      midgardRequest(n, \"/stats\").then(setStats);\n    };\n    refresh();\n    const handle = setInterval(refresh, 15000);\n    return () => clearInterval(handle);\n  }, [network]);\n\n  function onSetAddress() {\n    const newAddress = prompt(\"THORChain address:\", address);\n    if (address) setAddress(newAddress);\n  }\n\n  function onUpdateWorkspace(update, path) {\n    if (path.length === 0) {\n      selectedWorkspace.root = update(selectedWorkspace.root);\n    } else {\n      const parent = path.slice(0, -1).reduce((parent, leaf) => {\n        return parent[leaf];\n      }, selectedWorkspace.root);\n      const tail = path[path.length - 1];\n      let node = parent ? parent[tail] : selectedWorkspace.root;\n      node = update(node);\n      if (!node) {\n        Object.assign(\n          parent,\n          merge(parent[nodeSiblingNameMap[tail]], { size: parent.size })\n        );\n      } else {\n        parent[tail] = node;\n      }\n    }\n\n    workspaces[selectedWorkspaceIndex] = merge({}, selectedWorkspace);\n    setWorkspaces(workspaces.slice());\n    // debugging\n    window.globalWorkspaces = workspaces;\n  }\n\n  return (\n    <div>\n      <header className=\"header\">\n        <a className=\"header-brand\" href=\"/\">\n          megingjoro\n        </a>\n        <div className=\"header-workspaces\">\n          <WorkspacesNav\n            workspaces={workspaces}\n            setWorkspaces={setWorkspaces}\n            selectedWorkspaceIndex={selectedWorkspaceIndex}\n            setSelectedWorkspaceIndex={setSelectedWorkspaceIndex}\n          />\n        </div>\n        <div className=\"nav nav-right\">\n          <span className=\"nav-text text-primary\">\n            {address ? formatAddress(address) + \" (\" + network + \")\" : \"\"}\n          </span>\n          &nbsp;\n          <a className=\"nav-text text-bold\" onClick={onSetAddress}>\n            change\n          </a>\n        </div>\n      </header>\n      <div className=\"workspace\">\n        <Node\n          {...selectedWorkspace.root}\n          path={[]}\n          updateWorkspace={onUpdateWorkspace}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction WorkspacesNav({\n  workspaces,\n  setWorkspaces,\n  selectedWorkspaceIndex,\n  setSelectedWorkspaceIndex,\n}) {\n  function onAdd(e) {\n    e.preventDefault();\n    setWorkspaces((workspaces) => {\n      workspaces = workspaces.concat({\n        name: \"new workspace\",\n        root: { type: \"node\", size: 100, data: { type: \"empty\" } },\n      });\n      return workspaces;\n    });\n  }\n  function onRemove(e) {\n    e.preventDefault();\n    setWorkspaces((workspaces) => {\n      workspaces.splice(selectedWorkspaceIndex, 1);\n      return workspaces.splice();\n    });\n  }\n  function onRename(e) {\n    e.preventDefault();\n    const newName = prompt(\"New Name\", workspaces[selectedWorkspaceIndex].name);\n    if (!newName) return;\n    setWorkspaces((workspaces) => {\n      const i = selectedWorkspaceIndex;\n      workspaces[i] = { ...workspaces[i], name: newName };\n      return workspaces.slice();\n    });\n  }\n  function onSave(e) {\n    e.preventDefault();\n    localStorage.workspaces = JSON.stringify(workspaces);\n  }\n\n  return (\n    <div className=\"workspaces-nav\">\n      <div className=\"workspaces-nav-current\">\n        {workspaces[selectedWorkspaceIndex].name}\n      </div>\n      <div className=\"workspaces-nav-dropdown\">\n        {workspaces.map((w, i) => (\n          <a\n            key={i}\n            onClick={() => setSelectedWorkspaceIndex(i)}\n            className={selectedWorkspaceIndex === i ? \"is-active\" : \"\"}\n          >\n            {w.name}\n          </a>\n        ))}\n        <a onClick={onAdd} title=\"add\">\n          <Icon name=\"plus\" /> add\n        </a>\n        <a onClick={onRemove} title=\"delete\">\n          <Icon name=\"trash\" /> delete\n        </a>\n        <a onClick={onRename} title=\"rename\">\n          <Icon name=\"edit\" /> rename\n        </a>\n        <a onClick={onSave} title=\"save\">\n          <Icon name=\"save\" /> save\n        </a>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}